#pragma once
#define BLOCK_WIDTH 2 * SCALE_SIZE
#define BLOCK_HEIGHT 1 * SCALE_SIZE
class BlockManagerC
{
public:
	static BlockManagerC	*CreateInstance();
	static BlockManagerC	*GetInstance() {return sInstance;};
	~BlockManagerC(){};

	BlockC* getBlockPtr();
	void init();
	void reset(int level);
	//void loadLevel(unsigned int levelNumber);
	void loadLevel(int level);
	void renderBlock();
	void shutdown();
	void updateBlocks(DWORD milliseconds);
	BlockC** getBlocks();
	int getMaxBlocks();
private:
	static BlockManagerC *sInstance;
	BlockManagerC(){};
	int mCurLevel;
	static const int BLOCK_COLUMNS = 11;
	static const int BLOCK_ROWS = 20;
	static const int MAX_BLOCKS = BLOCK_COLUMNS * BLOCK_ROWS;

	int level1[BLOCK_ROWS][BLOCK_COLUMNS] =	{	
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,1,0,0,0,0,0},
								{0,0,0,0,1,2,1,0,0,0,0},
								{0,0,0,1,2,3,2,1,0,0,0},
								{0,0,1,2,3,4,3,2,1,0,0},
								{0,1,2,3,4,9,4,3,2,1,0},
								{1,2,3,4,9,10,9,4,3,2,1},
								{0,1,2,3,4,9,4,3,2,1,0},
								{0,0,1,2,3,4,3,2,1,0,0},
								{0,0,0,1,2,3,2,1,0,0,0},
								{0,0,0,0,1,2,1,0,0,0,0},
								{0,0,0,0,0,1,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0},
							};

	int level2[BLOCK_ROWS][BLOCK_COLUMNS] =	{
								{0,0,0,0,0,10,0,0,0,0,0},
								{0,0,0,0,0,10,1,1,1,1,1},
								{8,8,8,8,8,10,0,0,0,0,0},
								{0,0,0,0,0,10,2,2,2,2,2},
								{7,7,7,7,7,10,0,0,0,0,0},
								{0,0,0,0,0,10,3,3,3,3,3},
								{6,6,6,6,6,10,0,0,0,0,0},
								{0,0,0,0,0,10,4,4,4,4,4},
								{5,5,5,5,5,10,0,0,0,0,0},
								{0,0,0,0,0,10,9,9,9,9,9},
								{9,9,9,9,9,10,0,0,0,0,0},
								{0,0,0,0,0,10,5,5,5,5,5},
								{4,4,4,4,4,10,0,0,0,0,0},
								{0,0,0,0,0,10,6,6,6,6,6},
								{3,3,3,3,3,10,0,0,0,0,0},
								{0,0,0,0,0,10,7,7,7,7,7},
								{2,2,2,2,2,10,0,0,0,0,0},
								{0,0,0,0,0,10,8,8,8,8,8},
								{1,1,1,1,1,10,0,0,0,0,0},
								{0,0,0,0,0,10,0,0,0,0,0},
							};

	int level3[BLOCK_ROWS][BLOCK_COLUMNS] =	{	
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,1,1,1,1},
								{0,0,0,3,3,0,0,0,0,1,1},
								{4,4,0,3,3,0,0,0,0,1,1},
								{4,4,0,3,3,0,0,0,0,1,1},
								{4,4,0,3,3,0,0,0,0,1,1},
								{4,4,0,3,3,0,0,0,0,1,1},
								{4,4,0,3,3,0,2,2,0,1,1},
								{4,4,0,0,0,0,2,2,0,1,1},
								{4,4,0,0,0,0,2,2,0,1,1},
								{4,4,0,0,0,0,2,2,0,1,1},
								{0,0,0,0,0,0,2,2,0,1,1},
								{0,0,0,0,0,0,2,2,0,1,1},
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0},
								{0,0,0,0,0,0,0,0,0,0,0},
							};

	//int* levels[3] = { (int*)level1, (int*)level2, (int*)level3 };
	
	BlockC** mBlockArray;
};

